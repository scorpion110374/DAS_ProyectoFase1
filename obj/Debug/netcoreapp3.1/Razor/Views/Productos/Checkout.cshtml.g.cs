#pragma checksum "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "addb74e22815f47ea710f3bb0fc597fcb81b9c5d"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Productos_Checkout), @"mvc.1.0.view", @"/Views/Productos/Checkout.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\_ViewImports.cshtml"
using ProjectoAvance1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\_ViewImports.cshtml"
using ProjectoAvance1.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"addb74e22815f47ea710f3bb0fc597fcb81b9c5d", @"/Views/Productos/Checkout.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"52178d788630418f58f9c3422fb88981e12cf405", @"/Views/_ViewImports.cshtml")]
    public class Views_Productos_Checkout : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<ProjectoAvance1.Models.Producto>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 2 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
  
    ViewData["Title"] = "Carrito";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""container"">
    <div class=""text-center border border-primary rounded"">
        <h2>Formulario de Pago</h2>
    </div>
    <div class=""row"">
        <div class=""col-md-4 order-md-2 mb-4 pt-2"">
            <h4 class=""d-flex justify-content-between align-items-center mb-3"">
                <span class=""text-muted"">Contenido Carrito</span>
                <span class=""badge badge-secondary badge-pill quantityCart"">0</span>
            </h4>
            <ul class=""list-group mb-3 sticky-top"" id=""detalleCarrito"">
                <!-- Llenado con script -->
            </ul>
        </div>
        <div class=""col-md-8 order-md-1 pt-2"">
            <h4 class=""mb-3"">Detalles de Envío</h4>
");
#nullable restore
#line 22 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
             using (Html.BeginForm("Checkout", "Productos", FormMethod.Post, new { @class = "needs-validation checkoutForm", id = "checkoutForm" }))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"row\">\r\n                    <div class=\"col-md-6 mb-3\">\r\n                        <label for=\"nombre\">Nombre</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"nombre\" name=\"nombre\"");
            BeginWriteAttribute("placeholder", " placeholder=\"", 1214, "\"", 1228, 0);
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=\"", 1229, "\"", 1237, 0);
            EndWriteAttribute();
            BeginWriteAttribute("required", " required=\"", 1238, "\"", 1249, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                        <div class=""invalid-feedback""> Nombre es un campo requerido. </div>
                    </div>
                    <div class=""col-md-6 mb-3"">
                        <label for=""apellido"">Apellido</label>
                        <input type=""text"" class=""form-control"" id=""apellido"" name=""apellido""");
            BeginWriteAttribute("value", " value=\"", 1580, "\"", 1588, 0);
            EndWriteAttribute();
            BeginWriteAttribute("required", " required=\"", 1589, "\"", 1600, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                        <div class=""invalid-feedback""> Apellido es un nombre requerido. </div>
                    </div>
                </div>
                <div class=""mb-3"">
                    <label for=""email"">Email <span class=""text-muted"">(Optional)</span></label>
                    <input type=""email"" class=""form-control"" id=""email"" name=""email"" placeholder=""you@mail.com"">
                    <div class=""invalid-feedback""> Correo es un campo requerido. </div>
                </div>
                <div class=""mb-3"">
                    <label for=""direccion"">Dirección</label>
                    <input type=""text"" class=""form-control"" id=""direccion"" name=""direccion"" placeholder=""Col. Flor Blanca""");
            BeginWriteAttribute("required", " required=\"", 2332, "\"", 2343, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                    <div class=""invalid-feedback""> Dirección es un campo requerido. </div>
                </div>
                <div class=""row"">
                    <div class=""col-md-6 mb-3"">
                        <label for=""direccion2"">Dirección 2 <span class=""text-muted"">(Optional)</span></label>
                        <input type=""text"" class=""form-control"" id=""direccion2"" name=""direccion2"" placeholder=""# de casa o apartamento"">
                    </div>
                    <div class=""col-md-6 mb-3"">
                        <label for=""telefono"">Teléfono</label>
                        <input type=""text"" class=""form-control"" id=""telefono"" name=""telefono"" placeholder=""# de teléfono de contacto"">
                    </div>
                </div>
");
            WriteLiteral("                <div class=\"row\">\r\n                    <div class=\"col-md-5 mb-3\">\r\n                        <label for=\"pais\">País</label>\r\n                        ");
#nullable restore
#line 60 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
                   Write(Html.DropDownList("pais", new[] {
                            new SelectListItem(){Text="El Salvador",Value="El Salvador"}
                            }, "Seleccione País", new { @class = "form-control", required = "" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        <div class=""invalid-feedback""> Selecciones un país valido. </div>
                    </div>
                    <div class=""col-md-4 mb-3"">
                        <label for=""departamento"">Departamento</label>
                        ");
#nullable restore
#line 67 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
                   Write(Html.DropDownList("departamento", new[] {
                            new SelectListItem(){Text="Ahuachapan",Value="Ahuachapan"},
                            new SelectListItem(){Text="Cabañas",Value="Cabañas"},
                            new SelectListItem(){Text="Chalatenango",Value="Chalatenango"},
                            new SelectListItem(){Text="Cuscatlan",Value="Cuscatlan"},
                            new SelectListItem(){Text="La Libertad",Value="La Libertad"},
                            new SelectListItem(){Text="La Paz",Value="La Paz"},
                            new SelectListItem(){Text="La Union",Value="La Union"},
                            new SelectListItem(){Text="Morazan",Value="Morazan"},
                            new SelectListItem(){Text="San Miguel",Value="San Miguel"},
                            new SelectListItem(){Text="San Salvador",Value="San Salvador"},
                            new SelectListItem(){Text="San Vicente",Value="San Vicente"},
                            new SelectListItem(){Text="Santa Ana",Value="Santa Ana"},
                            new SelectListItem(){Text="Chalatenango",Value="Chalatenango"},
                            new SelectListItem(){Text="Sonsonate",Value="Sonsonate"}
                            }, "Seleccione Departamento", new { @class = "form-control", required = "" }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                        <div class=""invalid-feedback""> Seleccione un departamento valido. </div>
                    </div>
                    <div class=""col-md-3 mb-3"">
                        <label for=""codpostal"">Código Postal</label>
                        <input type=""text"" class=""form-control"" id=""codpostal"" name=""codpostal""");
            BeginWriteAttribute("placeholder", " placeholder=\"", 5503, "\"", 5517, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                    </div>
                </div>
                <hr class=""mb-1"">
                <!-- Section oculta para uso futuro
        <section class=""d-none"">
            <div class=""custom-control custom-checkbox"">
                <input type=""checkbox"" class=""custom-control-input"" id=""same-address"">
                <label class=""custom-control-label"" for=""same-address"">Shipping address is the same as my billing address</label>
            </div>
            <div class=""custom-control custom-checkbox"">
                <input type=""checkbox"" class=""custom-control-input"" id=""save-info"">
                <label class=""custom-control-label"" for=""save-info"">Save this information for next time</label>
            </div>
        </section>
        -->
                <h4 class=""mt-2"">Tipo de Pago</h4>
                <div class=""d-block my-3"">
                    <div class=""custom-control custom-radio"">
                        <input id=""cash"" name=""paymentMethod"" type=""radio"" class=""");
            WriteLiteral("custom-control-input\" value=\"cash\"");
            BeginWriteAttribute("checked", " checked=\"", 6576, "\"", 6586, 0);
            EndWriteAttribute();
            BeginWriteAttribute("required", " required=\"", 6587, "\"", 6598, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                        <label class=""custom-control-label pt-2"" for=""cash"">Efectivo</label>
                    </div>
                    <div class=""custom-control custom-radio"">
                        <input id=""credit"" name=""paymentMethod"" type=""radio"" class=""custom-control-input"" value=""credit""");
            BeginWriteAttribute("required", " required=\"", 6907, "\"", 6918, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                        <label class=""custom-control-label pt-2"" for=""credit"">Tarjeta de Crédito</label>
                    </div>
                    <div class=""custom-control custom-radio"">
                        <input id=""debit"" name=""paymentMethod"" type=""radio"" class=""custom-control-input"" value=""debit""");
            BeginWriteAttribute("required", " required=\"", 7237, "\"", 7248, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                        <label class=""custom-control-label pt-2"" for=""debit"">Tarjeta de Débito</label>
                    </div>
                </div>
                <section class=""d-none"" id=""datosTarjeta"">
                    <div class=""row"">
                        <div class=""col-md-6 mb-3"">
                            <label for=""Cc_name"">Nombre en Tarjeta</label>
                            <input type=""text"" class=""form-control reqTarjeta"" id=""Cc_name"" name=""Cc_name"" placeholder=""Nombre completo según tarjeta"">
                            <div class=""invalid-feedback""> Nombre en tarjeta es requerido. </div>
                        </div>
                        <div class=""col-md-6 mb-3"">
                            <label for=""Cc_number"">Número de tarjeta</label>
                            <input type=""text"" class=""form-control reqTarjeta"" id=""Cc_number"" name=""Cc_number""");
            BeginWriteAttribute("placeholder", " placeholder=\"", 8161, "\"", 8175, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                            <div class=""invalid-feedback"">Número de tarjeta es requerido </div>
                        </div>
                    </div>
                    <div class=""row"">
                        <div class=""col-md-3 mb-3"">
                            <label for=""Cc_expiration"">Fecha de Expiración</label>
                            <input type=""text"" class=""form-control reqTarjeta"" id=""Cc_expiration"" name=""Cc_expiration""");
            BeginWriteAttribute("placeholder", " placeholder=\"", 8630, "\"", 8644, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                            <div class=""invalid-feedback""> Fecha de Expiración es requerida. </div>
                        </div>
                        <div class=""col-md-3 mb-3"">
                            <label for=""Cc_cvv"">CVV</label>
                            <input type=""text"" class=""form-control reqTarjeta"" id=""Cc_cvv"" name=""Cc_cvv""");
            BeginWriteAttribute("placeholder", " placeholder=\"", 8999, "\"", 9013, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                            <div class=\"invalid-feedback\"> Código de Seguridad es requerido. </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n");
#nullable restore
#line 144 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
           Write(Html.Hidden("detalleCarrito", "", new { id = "detalleCarrito" }));

#line default
#line hidden
#nullable disable
#nullable restore
#line 145 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
           Write(Html.Hidden("Fecha", @DateTime.Now, new { id = "Fecha" }));

#line default
#line hidden
#nullable disable
#nullable restore
#line 146 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
           Write(Html.Hidden("IdUsuario", @ViewBag.UserId, new { id = "IdUsuario" }));

#line default
#line hidden
#nullable disable
#nullable restore
#line 147 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
           Write(Html.Hidden("Valor", "", new { id = "Valor" }));

#line default
#line hidden
#nullable disable
#nullable restore
#line 148 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
           Write(Html.Hidden("listadoProductos", "", new { id = "listadoProductos" }));

#line default
#line hidden
#nullable disable
            WriteLiteral("                <button class=\"btn btn-primary btn-lg btn-block\" type=\"submit\">Efectuar Compra</button>\r\n");
#nullable restore
#line 150 "C:\Users\Eduardo Trujillo\Documents\ChifungOneDrive\OneDrive\UDB\2022\2022-1\DAS901\Unidad_3\Proyecto1\ProjectoAvance1\Views\Productos\Checkout.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n    </div>\r\n</div>\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script>
        //Cargar datos de Carrito
        var carrito = JSON.parse(localStorage.getItem('listaCarrito'));
        let cuentaCarrito = 0;
        let totalCarrito = 0;

        if (carrito) {

            cuentaCarrito = carrito.length;

            for (var i = 0; i < cuentaCarrito; i++) {
                totalCarrito = totalCarrito + parseFloat(carrito[i].subTotal);

                //Llenar tabla de detalle
                $('#detalleCarrito').append(
                    '<li class=""list-group-item d-flex justify-content-between lh-condensed"">' +
                    '<div>' +
                    '<h6 class=""my-0"">' + carrito[i].codProducto + '</h6>' +
                    '<small class=""text-muted"">' + carrito[i].descProducto + '</small>' +
                    '</div>' +
                    '<span class=""text-muted"">$ ' + carrito[i].subTotal + '</span>' +
                    '</li>'
                );
            }

            //Agregar Total
            $('#detalleC");
                WriteLiteral(@"arrito').append(
                '<li class=""list-group-item d-flex justify-content-between"">' +
                '<span>Total (USD)</span>' +
                '<strong>$ ' + totalCarrito + '</strong>' +
                '</li>'
            );

            //Actualizar total carrito
            $('.totalCarrito').html(""$ "" + totalCarrito);
            $('.quantityCart').html(cuentaCarrito);

            //Enviar lista de productos de carrito a input hidden
            $(""#listadoProductos"").val(localStorage.getItem('listaCarrito'));
            $('#Valor').val(totalCarrito);
        } else {
            $('.quantityCart').html(0);
            $('.sumCart').html(""$ 0.00"");
        }


        //remover item del carrito de compras
        $('.removerItem').on('click', function () {

            let itemBorrar = $(this).data('id');

            Swal.fire({
                title: 'Esta seguro?',
                text: ""Esta seguro de querer borrar este artículo?"",
                icon: 'wa");
                WriteLiteral(@"rning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                cancelButtonText: 'Cancelar',
                confirmButtonText: 'Sí, remover artículo de mi carrito de compras!'
            }).then((result) => {
                if (result.isConfirmed) {
                    //Eliminar artículo
                    for (var i = 0; i < carrito.length; i++) {
                        if (i === itemBorrar) {
                            carrito.splice(i, 1);
                        }
                    }

                    //Actualizar localStorage con array actualizado
                    localStorage.setItem('listaCarrito', JSON.stringify(carrito));

                    //Recargar pagina carrito
                    location.reload();
                }
            })
        });

        //Borrar carrito de compras
        function borrarCarrito() {
            Swal.fire({
                title: 'E");
                WriteLiteral(@"sta seguro?',
                text: ""Esta seguro de borrar todo el contenido del Carrito de Compras!"",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                cancelButtonText: 'Cancelar',
                confirmButtonText: 'Sí, borrar contenido de carrito!'
            }).then((result) => {
                if (result.isConfirmed) {
                    //Eliminar localStorage
                    localStorage.removeItem('listaCarrito');

                    Swal.fire(
                        'Borrado!',
                        'Contenido de Carrito de Compras eliminado!',
                        'success'
                    )

                    window.location.href = '/productos';
                }
            })
        };


        //Detectar forma de pago
        $('input[name=paymentMethod]').on('click', function () {
            var checked_paymentMethod ");
                WriteLiteral(@"= document.querySelector('input[name = ""paymentMethod""]:checked');

            if (checked_paymentMethod != null) {  //Test if something was checked
                if (checked_paymentMethod.value == ""credit"" || checked_paymentMethod.value == ""debit"") {
                    $('#datosTarjeta').removeClass('d-none');
                    $('.reqTarjeta').prop('required',true);
                } else {
                    $('#datosTarjeta').addClass('d-none');
                    $('.reqTarjeta').removeAttr('required');
                }
            } else {
                alert('Nothing checked'); //Alert, nothing was checked.
            }
        });

    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<ProjectoAvance1.Models.Producto>> Html { get; private set; }
    }
}
#pragma warning restore 1591
